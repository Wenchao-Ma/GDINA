<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Data simulation based on the G-DINA models — simGDINA • GDINA</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Data simulation based on the G-DINA models — simGDINA"><meta property="og:description" content="Simulate responses based on the G-DINA model (de la Torre, 2011) and sequential G-DINA model
   (Ma &amp;amp; de la Torre, 2016), or CDMs subsumed by them, including the DINA model, DINO model, ACDM,
   LLM and R-RUM. Attributes can be simulated from uniform, higher-order or multivariate normal
   distributions, or be supplied by users. See Examples and Details for
   how item parameter specifications. See the help page of GDINA
   for model parameterizations."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">GDINA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.9.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/GDINA.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/OnlineExercises/CDMAnalysis_example.html">Model Estimation and Model Diagnostics</a>
    </li>
    <li>
      <a href="../articles/OnlineExercises/GDINA_example.html">GDINA Estimation</a>
    </li>
    <li>
      <a href="../articles/OnlineExercises/HOGDINA_example.html">Higher-order GDINA Estimation</a>
    </li>
    <li>
      <a href="../articles/OnlineExercises/LCDM_example.html">LCDM Estimation</a>
    </li>
    <li>
      <a href="../articles/OnlineExercises/sGDINA_analysis_example.html">Sequential G-DINA: Model Estimation and Model Diagnostics</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/Wenchao-Ma/GDINA/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Data simulation based on the G-DINA models</h1>
    <small class="dont-index">Source: <a href="https://github.com/Wenchao-Ma/GDINA/blob/HEAD/R/simGDINA.R" class="external-link"><code>R/simGDINA.R</code></a>, <a href="https://github.com/Wenchao-Ma/GDINA/blob/HEAD/R/extract.R" class="external-link"><code>R/extract.R</code></a></small>
    <div class="hidden name"><code>simGDINA.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Simulate responses based on the G-DINA model (de la Torre, 2011) and sequential G-DINA model
   (Ma &amp; de la Torre, 2016), or CDMs subsumed by them, including the DINA model, DINO model, ACDM,
   LLM and R-RUM. Attributes can be simulated from uniform, higher-order or multivariate normal
   distributions, or be supplied by users. See <code>Examples</code> and <code>Details</code> for
   how item parameter specifications. See the help page of <code><a href="GDINA.html">GDINA</a></code>
   for model parameterizations.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">simGDINA</span><span class="op">(</span></span>
<span>  <span class="va">N</span>,</span>
<span>  <span class="va">Q</span>,</span>
<span>  gs.parm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  delta.parm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  catprob.parm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"GDINA"</span>,</span>
<span>  sequential <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  no.bugs <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  gs.args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"random"</span>, mono.constraint <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  design.matrix <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  linkfunc <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  att.str <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  attribute <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  att.dist <span class="op">=</span> <span class="st">"uniform"</span>,</span>
<span>  item.names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  higher.order.parm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>theta <span class="op">=</span> <span class="cn">NULL</span>, lambda <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  mvnorm.parm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="cn">NULL</span>, sigma <span class="op">=</span> <span class="cn">NULL</span>, cutoffs <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  att.prior <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">4</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for simGDINA</span></span>
<span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  what <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dat"</span>, <span class="st">"Q"</span>, <span class="st">"attribute"</span>, <span class="st">"catprob.parm"</span>, <span class="st">"delta.parm"</span>, <span class="st">"higher.order.parm"</span>,</span>
<span>    <span class="st">"mvnorm.parm"</span>, <span class="st">"LCprob.parm"</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>N</dt>
<dd><p>Sample size.</p></dd>


<dt>Q</dt>
<dd><p>A required matrix; The number of rows occupied by a single-strategy dichotomous item is 1, by a polytomous item is
the number of nonzero categories, and by a mutiple-strategy dichotomous item is the number of strategies.
The number of column is equal to the number of attributes if all items are single-strategy dichotomous items, but
the number of attributes + 2 if any items are polytomous or have multiple strategies.
For a polytomous item, the first column represents the item number and the second column indicates the nonzero category number.
For a multiple-strategy dichotomous item, the first column represents the item number and the second column indicates the strategy number.
For binary attributes, 1 denotes the attributes are measured by the items and 0 means the attributes are not
   measured. For polytomous attributes, non-zero elements indicate which level
   of attributes are needed.  See <code>Examples</code>.</p></dd>


<dt>gs.parm</dt>
<dd><p>A matrix or data frame for guessing and slip parameters. The number of rows occupied by a dichotomous item is 1, and by a polytomous item is
the number of nonzero categories. The number of columns must be 2, where the first column represents the guessing parameters (or \(P(0)\)),
   and the second column represents slip parameters (or \(1-P(1)\)). This may need to be used in conjunction with
   the argument <code>gs.args</code>.</p></dd>


<dt>delta.parm</dt>
<dd><p>A list of delta parameters of each latent group for each item or category. This may need to be used in conjunction with
the argument <code>delta.args</code>.</p></dd>


<dt>catprob.parm</dt>
<dd><p>A list of success probabilities of each latent group for each non-zero category of each item. See <code>Examples</code> and
<code>Details</code> for more information.</p></dd>


<dt>model</dt>
<dd><p>A character vector for each item or nonzero category, or a scalar which will be used for all
items or nonzero categories to specify the CDMs. The possible options
include <code>"GDINA"</code>,<code>"DINA"</code>,<code>"DINO"</code>,<code>"ACDM"</code>,<code>"LLM"</code>, <code>"RRUM"</code>, <code>"MSDINA"</code> and <code>"UDF"</code>.
When <code>"UDF"</code>, indicating user defined function, is specified for any item, <code>delta.parm</code> must be specified, as well as
options <code>design.matrix</code> and <code>linkfunc</code> in argument <code>delta.args</code>.</p></dd>


<dt>sequential</dt>
<dd><p>logical; <code>TRUE</code> if the sequential model is used for polytomous responses simulation, and <code>FALSE</code>
if there is no polytomously scored items.</p></dd>


<dt>no.bugs</dt>
<dd><p>the number of bugs (or misconceptions) for the <code>SISM</code> model. Note that bugs must be given in the last no.bugs columns.</p></dd>


<dt>gs.args</dt>
<dd><p>a list of options when <code>gs.parm</code> is specified. It consists of two components:</p><ul><li><p><code>type</code> How are the delta parameters for ACDM, LLM, RRUM generated?
   It can be either <code>"random"</code> or <code>"equal"</code>. <code>"random"</code> means the delta parameters are simulated randomly,
   while <code>"equal"</code> means that each required attribute contributes equally to the probability of success (P), logit(P) or
   log(P) for ACDM, LLM and RRUM, respectively. See <code>Details</code> for more information.</p></li>
<li><p><code>mono.constraint</code> A vector for each item/category or a scalar which will be used for all
   items/categories to specify whether monotonicity constraints should be satisfied if the generating model is the G-DINA model. Note that
   this is applicable only for the G-DINA model when <code>gs.parm</code> is used. For ACDM, LLM and RRUM, monotonicity constraints
   are always satisfied and therefore this argument is ignored.</p></li>
</ul></dd>


<dt>design.matrix</dt>
<dd><p>a list of design matrices; Its length must be equal to the number of items (or nonzero categories for sequential models).</p></dd>


<dt>linkfunc</dt>
<dd><p>a vector of link functions for each item/category; It can be <code>"identity"</code>,<code>"log"</code> or <code>"logit"</code>. Only applicable when
when <code>delta.parm</code> or <code>catprob.parm</code> are provided.</p></dd>


<dt>att.str</dt>
<dd><p>attribute structure. <code>NULL</code>, by default, means there is no structure. Attribute structure needs be specified as a list -
which will be internally handled by <code>att.structure</code> function. It can also be a matrix giving all permissible attribute profiles.</p></dd>


<dt>attribute</dt>
<dd><p>optional user-specified person attributes. It is a \(N\times K\) matrix or data frame. If this is not supplied, attributes are simulated
from a distribution specified in <code>att.dist</code>.</p></dd>


<dt>att.dist</dt>
<dd><p>A string indicating the distribution for attribute simulation. It can be <code>"uniform"</code>, <code>"higher.order"</code>,
<code>"mvnorm"</code> or <code>"categorical"</code> for uniform, higher-order, multivariate normal and categorical distributions, respectively.
The default is the uniform distribution. To specify structural parameters for the higher-order
and multivariate normal distributions, see <code>higher.order.parm</code> and <code>mvnorm.parm</code>, respectively. To specify the probabilities
for the categorical distribution, use <code>att.prior</code> argument.</p></dd>


<dt>item.names</dt>
<dd><p>A vector giving the name of items or categories. If it is <code>NULL</code> (default), items are named as "Item 1", "Item 2", etc.</p></dd>


<dt>higher.order.parm</dt>
<dd><p>A list specifying parameters for higher-order distribution for attributes
if <code>att.dist=higher.order</code>. Particularly, <code>theta</code> is a
vector of length \(N\) representing the higher-order ability
for each examinee. and <code>lambda</code> is a \(K \times 2\) matrix. Column 1 gives the slopes for the higher-order
model and column 2 gives the intercepts. See <code><a href="GDINA.html">GDINA</a></code> for the formulations of the higher-order
models.</p></dd>


<dt>mvnorm.parm</dt>
<dd><p>a list of parameters for multivariate normal attribute distribution. <code>mean</code> is a vector of length \(K\)
specifying the mean of multivariate normal distribution; and <code>sigma</code> is a positive-definite
symmetric matrix specifying the variance-covariance matrix. <code>cutoffs</code> is a vector giving the
cutoff for each attribute. See <code>Examples</code>.</p></dd>


<dt>att.prior</dt>
<dd><p>probability for each attribute pattern. Order is the same as that returned from <code>attributepattern(Q = Q)</code>. This is only
applicable when <code>att.dist="categorical"</code>.</p></dd>


<dt>digits</dt>
<dd><p>How many decimal places in each number? The default is 4.</p></dd>


<dt>object</dt>
<dd><p>object of class <code>simGDINA</code> for method <code>extract</code></p></dd>


<dt>what</dt>
<dd><p>argument for S3 method <code>extract</code> indicating what to extract</p></dd>


<dt>...</dt>
<dd><p>additional arguments</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>an object of class <code>simGDINA</code>. Elements that can be extracted using method <code>extract</code></p>


<p>include:</p><dl><dt>dat</dt>
<dd><p>simulated item response matrix</p></dd>

<dt>Q</dt>
<dd><p>Q-matrix</p></dd>

<dt>attribute</dt>
<dd><p>A \(N \times K\) matrix for inviduals' attribute patterns</p></dd>

<dt>catprob.parm</dt>
<dd><p>a list of non-zero category success probabilities for each latent group</p></dd>

<dt>delta.parm</dt>
<dd><p>a list of delta parameters</p></dd>

<dt>higher.order.parm</dt>
<dd><p>Higher-order parameters</p></dd>

<dt>mvnorm.parm</dt>
<dd><p>multivariate normal distribution parameters</p></dd>

<dt>LCprob.parm</dt>
<dd><p>A matrix of item/category success probabilities for each latent class</p></dd>


</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Item parameter specifications in <code>simGDINA</code>:</p>
<p>Item parameters can be specified in one of three different ways.</p>
<p>The first and probably the easiest way is to specify the guessing and slip parameters for each item or nonzero category using
<code>gs.parm</code>, which is a matrix or data frame for \(P(\bm{\alpha}_{lj}^*=0)\) and \(1-P(\bm{\alpha}_{lj}^*=1)\)
for all items for dichotomous items and \(S(\bm{\alpha}_{ljh}^*=0)\) and \(1-S(\bm{\alpha}_{ljh}^*=1)\)
for all nonzero categories for polytomous items. Note that \(1-P(\bm{\alpha}_{lj}^*=0)-P(\bm{\alpha}_{lj}^*=1)\) or
\(1-S(\bm{\alpha}_{lj}^*=0)-S(\bm{\alpha}_{lj}^*=1)\) must be greater than 0.
For generating ACDM, LLM, and RRUM, delta parameters are generated randomly if <code>type="random"</code>,
or in a way that each required attribute contributes equally, as in
 Ma, Iaconangelo, &amp; de la Torre (2016) if <code>type="equal"</code>. For ACDM, LLM and RRUM, generated
 delta parameters are always positive, which implies that monotonicity constraints are always satisfied.
 If the generating model is the G-DINA model, <code>mono.constraint</code> can be used to specify whether monotonicity
 constraints should be satisfied.</p>
<p>The second way of simulating responses is to specify success probabilities (i.e., \(P(\bm{\alpha}_{lj}^*)\)
or \(S(\bm{\alpha}_{ljh}^*)\)) for each nonzero category of each item directly
using the argument <code>catprob.parm</code>. If an item or category requires \(K_j^*\) attributes, \(2^{K_j^*}\) success probabilities
need to be provided. <code>catprob.parm</code> must be a list, where each element gives the success probabilities for nonzero category of each item.
Note that success probabilities cannot be negative or greater than one.</p>
<p>The third way is to specify delta parameters for data simulation. For DINA and DINO model, each nonzero category requires two
delta parameters. For ACDM, LLM and RRUM, if a nonzero category requires \(K_j^*\) attributes, \(K_j^*+1\) delta parameters
need to be specified. For the G-DINA model, a nonzero category requiring \(K_j^*\) attributes has \(2^{K_j^*}\) delta parameters.
It should be noted that specifying delta parameters needs to ascertain the derived success probabilities are within the \([0,1]\) interval.</p>
<p>Please note that you need to specify item parameters in ONLY one of these three ways. If <code>gs.parm</code> is specified, it will be used regardless of
the inputs in <code>catprob.parm</code> and <code>delta.parm</code>. If <code>gs.parm</code> is not specified, <code>simGDINA</code> will check
if <code>delta.parm</code> is specified; if yes, it will be used for data generation. if both <code>gs.parm</code> and <code>delta.parm</code> are not specified,
<code>catprob.parm</code> is used for data generation.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Chiu, C.-Y., Douglas, J. A., &amp; Li, X. (2009). Cluster analysis for cognitive diagnosis: Theory and applications. <em>Psychometrika, 74</em>, 633-665.</p>
<p>de la Torre, J. (2011). The generalized DINA model framework. <em>Psychometrika, 76</em>, 179-199.</p>
<p>de la Torre, J., &amp; Douglas, J. A. (2004). Higher-order latent trait models for cognitive diagnosis. <em>Psychometrika, 69</em>, 333-353.</p>
<p>Haertel, E. H. (1989). Using restricted latent class models to map the skill structure of achievement items.
<em>Journal of Educational Measurement, 26</em>, 301-321.</p>
<p>Hartz, S. M. (2002). A bayesian framework for the unified model for assessing cognitive abilities:
Blending theory with practicality (Unpublished doctoral dissertation). University of Illinois at Urbana-Champaign.</p>
<p>Junker, B. W., &amp; Sijtsma, K. (2001). Cognitive assessment models with few assumptions, and connections with nonparametric
item response theory. <em>Applied Psychological Measurement, 25</em>, 258-272.</p>
<p>Ma, W., &amp; de la Torre, J. (2016). A sequential cognitive diagnosis model for polytomous responses. <em>British Journal of Mathematical and Statistical Psychology. 69,</em> 253-275.</p>
<p>Ma, W., &amp; de la Torre, J. (2020). GDINA: An R Package for Cognitive Diagnosis Modeling. <em>Journal of Statistical Software, 93(14)</em>, 1-26.</p>
<p>Ma, W., Iaconangelo, C., &amp; de la Torre, J. (2016). Model similarity, model selection and attribute classification. <em>Applied Psychological Measurement, 40</em>, 200-217.</p>
<p>Maris, E. (1999). Estimating multiple classification latent class models. <em>Psychometrika, 64</em>, 187-212.</p>
<p>Templin, J. L., &amp; Henson, R. A. (2006). Measurement of psychological disorders using cognitive diagnosis models.
<em>Psychological Methods, 11</em>, 287-305.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Wenchao Ma, The University of Alabama, <a href="mailto:wenchao.ma@ua.edu">wenchao.ma@ua.edu</a> <br> Jimmy de la Torre, The University of Hong Kong</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span><span class="co">#                     Example 1                    #</span></span></span>
<span class="r-in"><span><span class="co">#             Data simulation (DINA)               #</span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">500</span></span></span>
<span class="r-in"><span><span class="va">Q</span> <span class="op">&lt;-</span> <span class="va">sim30GDINA</span><span class="op">$</span><span class="va">simQ</span></span></span>
<span class="r-in"><span><span class="va">J</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">Q</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>guess<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="va">J</span><span class="op">)</span>,slip<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="va">J</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Simulated DINA model; to simulate G-DINA model</span></span></span>
<span class="r-in"><span><span class="co"># and other CDMs, change model argument accordingly</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu">simGDINA</span><span class="op">(</span><span class="va">N</span>,<span class="va">Q</span>,gs.parm <span class="op">=</span> <span class="va">gs</span>,model <span class="op">=</span> <span class="st">"DINA"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># True item success probabilities</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"catprob.parm"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># True delta parameters</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"delta.parm"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simulated data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"dat"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simulated attributes</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"attribute"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span><span class="co">#                     Example 2                    #</span></span></span>
<span class="r-in"><span><span class="co">#             Data simulation (RRUM)               #</span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">500</span></span></span>
<span class="r-in"><span><span class="va">Q</span> <span class="op">&lt;-</span> <span class="va">sim30GDINA</span><span class="op">$</span><span class="va">simQ</span></span></span>
<span class="r-in"><span><span class="va">J</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">Q</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>guess<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="va">J</span><span class="op">)</span>,slip<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="va">J</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Simulated RRUM</span></span></span>
<span class="r-in"><span><span class="co"># deltas except delta0 for each item will be simulated</span></span></span>
<span class="r-in"><span><span class="co"># randomly subject to the constraints of RRUM</span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu">simGDINA</span><span class="op">(</span><span class="va">N</span>,<span class="va">Q</span>,gs.parm <span class="op">=</span> <span class="va">gs</span>,model <span class="op">=</span> <span class="st">"RRUM"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simulated data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"dat"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simulated attributes</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"attribute"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span><span class="co">#                     Example 3                    #</span></span></span>
<span class="r-in"><span><span class="co">#             Data simulation (LLM)                #</span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">500</span></span></span>
<span class="r-in"><span><span class="va">Q</span> <span class="op">&lt;-</span> <span class="va">sim30GDINA</span><span class="op">$</span><span class="va">simQ</span></span></span>
<span class="r-in"><span><span class="va">J</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">Q</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>guess<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="va">J</span><span class="op">)</span>,slip<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="va">J</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Simulated LLM</span></span></span>
<span class="r-in"><span><span class="co"># By specifying type="equal", each required attribute is</span></span></span>
<span class="r-in"><span><span class="co"># assumed to contribute to logit(P) equally</span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu">simGDINA</span><span class="op">(</span><span class="va">N</span>,<span class="va">Q</span>,gs.parm <span class="op">=</span> <span class="va">gs</span>,model <span class="op">=</span> <span class="st">"LLM"</span>,gs.args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span> <span class="op">(</span>type<span class="op">=</span><span class="st">"equal"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#check below for what the equal contribution means</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"delta.parm"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simulated data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"dat"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simulated attributes</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"attribute"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span><span class="co">#                   Example 4                      #</span></span></span>
<span class="r-in"><span><span class="co">#          Data simulation (all CDMs)              #</span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12345</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">500</span></span></span>
<span class="r-in"><span><span class="va">Q</span> <span class="op">&lt;-</span> <span class="va">sim10GDINA</span><span class="op">$</span><span class="va">simQ</span></span></span>
<span class="r-in"><span><span class="va">J</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">Q</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>guess<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="va">J</span><span class="op">)</span>,slip<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="va">J</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Simulated different CDMs for different items</span></span></span>
<span class="r-in"><span><span class="va">models</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"GDINA"</span>,<span class="st">"DINO"</span>,<span class="st">"DINA"</span>,<span class="st">"ACDM"</span>,<span class="st">"LLM"</span>,<span class="st">"RRUM"</span>,<span class="st">"GDINA"</span>,<span class="st">"LLM"</span>,<span class="st">"RRUM"</span>,<span class="st">"DINA"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu">simGDINA</span><span class="op">(</span><span class="va">N</span>,<span class="va">Q</span>,gs.parm <span class="op">=</span> <span class="va">gs</span>,model <span class="op">=</span> <span class="va">models</span>,gs.args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>type<span class="op">=</span><span class="st">"random"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simulated data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"dat"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simulated attributes</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"attribute"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span><span class="co">#                   Example 5a                     #</span></span></span>
<span class="r-in"><span><span class="co">#          Data simulation (all CDMs)              #</span></span></span>
<span class="r-in"><span><span class="co">#  using probability of success in list format     #</span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># success probabilities for each item need to be provided in list format as follows:</span></span></span>
<span class="r-in"><span><span class="co"># if item j requires Kj attributes, 2^Kj success probabilities</span></span></span>
<span class="r-in"><span><span class="co"># need to be specified</span></span></span>
<span class="r-in"><span><span class="co"># e.g., item 1 only requires 1 attribute</span></span></span>
<span class="r-in"><span><span class="co"># therefore P(0) and P(1) should be specified;</span></span></span>
<span class="r-in"><span><span class="co"># similarly, item 10 requires 3 attributes,</span></span></span>
<span class="r-in"><span><span class="co"># P(000),P(100),P(010)...,P(111) should be specified;</span></span></span>
<span class="r-in"><span><span class="co"># the latent class represented by each element can be obtained</span></span></span>
<span class="r-in"><span><span class="co"># by calling attributepattern(Kj)</span></span></span>
<span class="r-in"><span><span class="va">itemparm.list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>item1<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="fl">0.9</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    item2<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    item3<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.9</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    item4<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.3</span>,<span class="fl">0.5</span>,<span class="fl">0.9</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    item5<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.1</span>,<span class="fl">0.1</span>,<span class="fl">0.8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    item6<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="fl">0.9</span>,<span class="fl">0.9</span>,<span class="fl">0.9</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    item7<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.45</span>,<span class="fl">0.45</span>,<span class="fl">0.8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    item8<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.28</span>,<span class="fl">0.28</span>,<span class="fl">0.8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    item9<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.4</span>,<span class="fl">0.4</span>,<span class="fl">0.8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    item10<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.2</span>,<span class="fl">0.3</span>,<span class="fl">0.4</span>,<span class="fl">0.4</span>,<span class="fl">0.5</span>,<span class="fl">0.7</span>,<span class="fl">0.9</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12345</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">500</span></span></span>
<span class="r-in"><span><span class="va">Q</span> <span class="op">&lt;-</span> <span class="va">sim10GDINA</span><span class="op">$</span><span class="va">simQ</span></span></span>
<span class="r-in"><span><span class="co"># When simulating data using catprob.parm argument,</span></span></span>
<span class="r-in"><span><span class="co"># it is not necessary to specify model and type</span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu">simGDINA</span><span class="op">(</span><span class="va">N</span>,<span class="va">Q</span>,catprob.parm <span class="op">=</span> <span class="va">itemparm.list</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span><span class="co">#                   Example 5b                     #</span></span></span>
<span class="r-in"><span><span class="co">#          Data simulation (all CDMs)              #</span></span></span>
<span class="r-in"><span><span class="co">#  using probability of success in list format     #</span></span></span>
<span class="r-in"><span><span class="co">#  attribute has a linear structure                #</span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">est</span> <span class="op">&lt;-</span> <span class="fu"><a href="GDINA.html">GDINA</a></span><span class="op">(</span><span class="va">sim10GDINA</span><span class="op">$</span><span class="va">simdat</span>,<span class="va">sim10GDINA</span><span class="op">$</span><span class="va">simQ</span>,att.str <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># design matrix</span></span></span>
<span class="r-in"><span><span class="co"># link function</span></span></span>
<span class="r-in"><span><span class="co"># item probabilities</span></span></span>
<span class="r-in"><span><span class="va">ip</span> <span class="op">&lt;-</span> <span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">est</span>,<span class="st">"itemprob.parm"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu">simGDINA</span><span class="op">(</span>N<span class="op">=</span><span class="fl">500</span>,<span class="va">sim10GDINA</span><span class="op">$</span><span class="va">simQ</span>,catprob.parm <span class="op">=</span> <span class="va">ip</span>,</span></span>
<span class="r-in"><span>design.matrix <span class="op">=</span> <span class="va">dm</span>,linkfunc <span class="op">=</span> <span class="va">lf</span>,att.str <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span><span class="co">#                   Example 6a                     #</span></span></span>
<span class="r-in"><span><span class="co">#            Data simulation (all CDMs)            #</span></span></span>
<span class="r-in"><span><span class="co">#      using delta parameters in list format       #</span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">delta.list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="fl">0.7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="fl">0.3</span>,<span class="fl">0.2</span>,<span class="fl">0.1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.35</span>,<span class="fl">0.35</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.386294</span>,<span class="fl">0.9808293</span>,<span class="fl">1.791759</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.609438</span>,<span class="fl">0.6931472</span>,<span class="fl">0.6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.1</span>,<span class="fl">0.2</span>,<span class="fl">0.3</span>,<span class="fl">0.0</span>,<span class="fl">0.0</span>,<span class="fl">0.1</span>,<span class="fl">0.1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"GDINA"</span>,<span class="st">"GDINA"</span>,<span class="st">"GDINA"</span>,<span class="st">"DINA"</span>,<span class="st">"DINO"</span>,<span class="st">"GDINA"</span>,<span class="st">"ACDM"</span>,<span class="st">"LLM"</span>,<span class="st">"RRUM"</span>,<span class="st">"GDINA"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">500</span></span></span>
<span class="r-in"><span><span class="va">Q</span> <span class="op">&lt;-</span> <span class="va">sim10GDINA</span><span class="op">$</span><span class="va">simQ</span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu">simGDINA</span><span class="op">(</span><span class="va">N</span>,<span class="va">Q</span>,delta.parm <span class="op">=</span> <span class="va">delta.list</span>, model <span class="op">=</span> <span class="va">model</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span><span class="co">#                   Example 6b                     #</span></span></span>
<span class="r-in"><span><span class="co">#          Data simulation (all CDMs)              #</span></span></span>
<span class="r-in"><span><span class="co">#  using delta parameters in list format           #</span></span></span>
<span class="r-in"><span><span class="co">#  attribute has a linear structure                #</span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">est</span> <span class="op">&lt;-</span> <span class="fu"><a href="GDINA.html">GDINA</a></span><span class="op">(</span><span class="va">sim10GDINA</span><span class="op">$</span><span class="va">simdat</span>,<span class="va">sim10GDINA</span><span class="op">$</span><span class="va">simQ</span>,att.str <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># design matrix</span></span></span>
<span class="r-in"><span><span class="co"># link function</span></span></span>
<span class="r-in"><span><span class="co"># item probabilities</span></span></span>
<span class="r-in"><span><span class="va">ip</span> <span class="op">&lt;-</span> <span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">est</span>,<span class="st">"delta.parm"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu">simGDINA</span><span class="op">(</span>N<span class="op">=</span><span class="fl">500</span>,<span class="va">sim10GDINA</span><span class="op">$</span><span class="va">simQ</span>,delta.parm <span class="op">=</span>  <span class="va">d</span>,</span></span>
<span class="r-in"><span>design.matrix <span class="op">=</span> <span class="va">dm</span>,linkfunc <span class="op">=</span> <span class="va">lf</span>,att.str <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span><span class="co">#                   Example 7                      #</span></span></span>
<span class="r-in"><span><span class="co">#      Data simulation (higher order DINA model)   #</span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Q</span> <span class="op">&lt;-</span> <span class="va">sim30GDINA</span><span class="op">$</span><span class="va">simQ</span></span></span>
<span class="r-in"><span><span class="va">gs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">Q</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">500</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12345</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">theta</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">K</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">Q</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lambda</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>a<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="va">K</span><span class="op">)</span>,b<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>,<span class="fl">2</span>,length.out<span class="op">=</span><span class="va">K</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu">simGDINA</span><span class="op">(</span><span class="va">N</span>,<span class="va">Q</span>,gs.parm <span class="op">=</span> <span class="va">gs</span>, model<span class="op">=</span><span class="st">"DINA"</span>, att.dist <span class="op">=</span> <span class="st">"higher.order"</span>,</span></span>
<span class="r-in"><span>                 higher.order.parm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>theta <span class="op">=</span> <span class="va">theta</span>,lambda <span class="op">=</span> <span class="va">lambda</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span><span class="co">#                   Example 8                      #</span></span></span>
<span class="r-in"><span><span class="co">#      Data simulation (higher-order CDMs)         #</span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Q</span> <span class="op">&lt;-</span> <span class="va">sim30GDINA</span><span class="op">$</span><span class="va">simQ</span></span></span>
<span class="r-in"><span><span class="va">gs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">Q</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">models</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"GDINA"</span>,<span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"DINO"</span>,<span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"DINA"</span>,<span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"ACDM"</span>,<span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"LLM"</span>,<span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"RRUM"</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">500</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12345</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">theta</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">K</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">Q</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lambda</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>a<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">K</span>,<span class="fl">0.7</span>,<span class="fl">1.3</span><span class="op">)</span>,b<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>,<span class="fl">2</span>,length.out<span class="op">=</span><span class="va">K</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu">simGDINA</span><span class="op">(</span><span class="va">N</span>,<span class="va">Q</span>,gs.parm <span class="op">=</span> <span class="va">gs</span>, model<span class="op">=</span><span class="va">models</span>, att.dist <span class="op">=</span> <span class="st">"higher.order"</span>,</span></span>
<span class="r-in"><span>                 higher.order.parm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>theta <span class="op">=</span> <span class="va">theta</span>,lambda <span class="op">=</span> <span class="va">lambda</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span><span class="co">#                   Example 9                      #</span></span></span>
<span class="r-in"><span><span class="co">#      Data simulation (higher-order model)        #</span></span></span>
<span class="r-in"><span><span class="co">#  using the multivariate normal threshold model   #</span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># See Chiu et al., (2009)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">500</span></span></span>
<span class="r-in"><span><span class="va">Q</span> <span class="op">&lt;-</span> <span class="va">sim10GDINA</span><span class="op">$</span><span class="va">simQ</span></span></span>
<span class="r-in"><span><span class="va">K</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">Q</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">Q</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cutoffs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">qnorm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">K</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="va">K</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="va">K</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">vcov</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">0.5</span>,<span class="va">K</span>,<span class="va">K</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="va">vcov</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="va">simMV</span> <span class="op">&lt;-</span> <span class="fu">simGDINA</span><span class="op">(</span><span class="va">N</span>,<span class="va">Q</span>,gs.parm <span class="op">=</span> <span class="va">gs</span>, att.dist <span class="op">=</span> <span class="st">"mvnorm"</span>,</span></span>
<span class="r-in"><span>                 mvnorm.parm<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="va">m</span>, sigma <span class="op">=</span> <span class="va">vcov</span>,cutoffs <span class="op">=</span> <span class="va">cutoffs</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">####################################</span></span></span>
<span class="r-in"><span><span class="co">#          Example 10              #</span></span></span>
<span class="r-in"><span><span class="co">#        Simulation using          #</span></span></span>
<span class="r-in"><span><span class="co">#      user-specified att structure#</span></span></span>
<span class="r-in"><span><span class="co">####################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># --- User-specified attribute structure ----#</span></span></span>
<span class="r-in"><span><span class="va">Q</span> <span class="op">&lt;-</span> <span class="va">sim30GDINA</span><span class="op">$</span><span class="va">simQ</span></span></span>
<span class="r-in"><span><span class="va">K</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">Q</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># divergent structure A1-&gt;A2-&gt;A3;A1-&gt;A4-&gt;A5;A1-&gt;A4-&gt;A6</span></span></span>
<span class="r-in"><span><span class="va">diverg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">struc</span> <span class="op">&lt;-</span> <span class="fu"><a href="att.structure.html">att.structure</a></span><span class="op">(</span><span class="va">diverg</span>,<span class="va">K</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># data simulation</span></span></span>
<span class="r-in"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span></span>
<span class="r-in"><span><span class="co"># data simulation</span></span></span>
<span class="r-in"><span><span class="va">gs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">Q</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">simD</span> <span class="op">&lt;-</span> <span class="fu">simGDINA</span><span class="op">(</span><span class="va">N</span>,<span class="va">Q</span>,gs.parm <span class="op">=</span> <span class="va">gs</span>,</span></span>
<span class="r-in"><span>                   model <span class="op">=</span> <span class="st">"DINA"</span>,att.dist <span class="op">=</span> <span class="st">"categorical"</span>,att.prior <span class="op">=</span> <span class="va">struc</span><span class="op">$</span><span class="va">att.prob</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span><span class="co">#                   Example 11                     #</span></span></span>
<span class="r-in"><span><span class="co">#                Data simulation                   #</span></span></span>
<span class="r-in"><span><span class="co">#  (GDINA with monotonicity constraints)           #</span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12345</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">500</span></span></span>
<span class="r-in"><span><span class="va">Q</span> <span class="op">&lt;-</span> <span class="va">sim30GDINA</span><span class="op">$</span><span class="va">simQ</span></span></span>
<span class="r-in"><span><span class="va">J</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">Q</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>guess<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="va">J</span><span class="op">)</span>,slip<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="va">J</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Simulated different CDMs for different items</span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu">simGDINA</span><span class="op">(</span><span class="va">N</span>,<span class="va">Q</span>,gs.parm <span class="op">=</span> <span class="va">gs</span>,model <span class="op">=</span> <span class="st">"GDINA"</span>,gs.args<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mono.constraint<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># True item success probabilities</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"catprob.parm"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># True delta parameters</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"delta.parm"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simulated data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"dat"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simulated attributes</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"attribute"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span><span class="co">#                   Example 12                     #</span></span></span>
<span class="r-in"><span><span class="co">#                Data simulation                   #</span></span></span>
<span class="r-in"><span><span class="co"># (Sequential G-DINA model - polytomous responses) #</span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12345</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">2000</span></span></span>
<span class="r-in"><span><span class="co"># restricted Qc matrix</span></span></span>
<span class="r-in"><span><span class="va">Qc</span> <span class="op">&lt;-</span> <span class="va">sim20seqGDINA</span><span class="op">$</span><span class="va">simQ</span></span></span>
<span class="r-in"><span><span class="co">#total number of categories</span></span></span>
<span class="r-in"><span><span class="va">J</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">Qc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>guess<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="va">J</span><span class="op">)</span>,slip<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="va">J</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># simulate sequential DINA model</span></span></span>
<span class="r-in"><span><span class="va">simseq</span> <span class="op">&lt;-</span> <span class="fu">simGDINA</span><span class="op">(</span><span class="va">N</span>, <span class="va">Qc</span>, sequential <span class="op">=</span> <span class="cn">TRUE</span>, gs.parm <span class="op">=</span> <span class="va">gs</span>, model <span class="op">=</span> <span class="st">"GDINA"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># True item success probabilities</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">simseq</span>,what <span class="op">=</span> <span class="st">"catprob.parm"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># True delta parameters</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">simseq</span>,what <span class="op">=</span> <span class="st">"delta.parm"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simulated data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">simseq</span>,what <span class="op">=</span> <span class="st">"dat"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simulated attributes</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">simseq</span>,what <span class="op">=</span> <span class="st">"attribute"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span><span class="co">#                   Example 13</span></span></span>
<span class="r-in"><span><span class="co">#         DINA model Attribute generated using</span></span></span>
<span class="r-in"><span><span class="co">#             categorical distribution</span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Q</span> <span class="op">&lt;-</span> <span class="va">sim10GDINA</span><span class="op">$</span><span class="va">simQ</span></span></span>
<span class="r-in"><span><span class="va">gs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">Q</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">5000</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12345</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">prior</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.2</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0.2</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu">simGDINA</span><span class="op">(</span><span class="va">N</span>,<span class="va">Q</span>,gs.parm <span class="op">=</span> <span class="va">gs</span>, model<span class="op">=</span><span class="st">"DINA"</span>, att.dist <span class="op">=</span> <span class="st">"categorical"</span>,att.prior <span class="op">=</span> <span class="va">prior</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># check latent class sizes</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">sim</span><span class="op">$</span><span class="va">att.group</span><span class="op">)</span><span class="op">/</span><span class="va">N</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span><span class="co">#                   Example 14</span></span></span>
<span class="r-in"><span><span class="co">#                  MS-DINA model</span></span></span>
<span class="r-in"><span><span class="co">####################################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Q</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0</span>,</span></span>
<span class="r-in"><span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">1</span>,</span></span>
<span class="r-in"><span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,</span></span>
<span class="r-in"><span><span class="fl">3</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,</span></span>
<span class="r-in"><span><span class="fl">4</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,</span></span>
<span class="r-in"><span><span class="fl">5</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,</span></span>
<span class="r-in"><span><span class="fl">5</span>,<span class="fl">2</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,ncol <span class="op">=</span> <span class="fl">5</span>,byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  item1<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="fl">0.7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  item2<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  item3<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="fl">0.6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  item4<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="fl">0.7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  item5<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12345</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu">simGDINA</span><span class="op">(</span>N<span class="op">=</span><span class="fl">1000</span>,Q <span class="op">=</span> <span class="va">Q</span>, delta.parm <span class="op">=</span> <span class="va">d</span>,</span></span>
<span class="r-in"><span>               model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MSDINA"</span>,<span class="st">"MSDINA"</span>,<span class="st">"DINA"</span>,<span class="st">"DINA"</span>,<span class="st">"DINA"</span>,<span class="st">"MSDINA"</span>,<span class="st">"MSDINA"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simulated data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"dat"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simulated attributes</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"attribute"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##############################################################</span></span></span>
<span class="r-in"><span><span class="co">#                   Example 15</span></span></span>
<span class="r-in"><span><span class="co">#  reparameterized SISM model (Kuo, Chen, &amp; de la Torre, 2018)</span></span></span>
<span class="r-in"><span><span class="co">#  see GDINA function for more details</span></span></span>
<span class="r-in"><span><span class="co">###############################################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The Q-matrix used in Kuo, et al (2018)</span></span></span>
<span class="r-in"><span><span class="co"># The first four columns are for Attributes 1-4</span></span></span>
<span class="r-in"><span><span class="co"># The last three columns are for Bugs 1-3</span></span></span>
<span class="r-in"><span><span class="va">Q</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,</span></span>
<span class="r-in"><span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,</span></span>
<span class="r-in"><span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,</span></span>
<span class="r-in"><span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,</span></span>
<span class="r-in"><span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,</span></span>
<span class="r-in"><span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,</span></span>
<span class="r-in"><span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,</span></span>
<span class="r-in"><span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,</span></span>
<span class="r-in"><span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,</span></span>
<span class="r-in"><span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,</span></span>
<span class="r-in"><span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,</span></span>
<span class="r-in"><span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,</span></span>
<span class="r-in"><span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,</span></span>
<span class="r-in"><span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,</span></span>
<span class="r-in"><span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,</span></span>
<span class="r-in"><span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">1</span>,</span></span>
<span class="r-in"><span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">1</span>,</span></span>
<span class="r-in"><span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0</span>,</span></span>
<span class="r-in"><span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0</span>,</span></span>
<span class="r-in"><span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span>,ncol <span class="op">=</span> <span class="fl">7</span>,byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">J</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">Q</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">500</span></span></span>
<span class="r-in"><span><span class="va">gs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>guess<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="va">J</span><span class="op">)</span>,slip<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="va">J</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu">simGDINA</span><span class="op">(</span><span class="va">N</span>,<span class="va">Q</span>,gs.parm <span class="op">=</span> <span class="va">gs</span>,model <span class="op">=</span> <span class="st">"SISM"</span>,no.bugs<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># True item success probabilities</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"catprob.parm"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># True delta parameters</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"delta.parm"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simulated data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"dat"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simulated attributes</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">sim</span>,what <span class="op">=</span> <span class="st">"attribute"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Wenchao Ma, Jimmy de la Torre.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

