<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Multiple-choice models — MCmodel • GDINA</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Multiple-choice models — MCmodel"><meta property="og:description" content="This function estimates the multiple-choice DINA model (de la Torre, 2009)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">GDINA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.9.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/GDINA.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/OnlineExercises/CDMAnalysis_example.html">Model Estimation and Model Diagnostics</a>
    </li>
    <li>
      <a href="../articles/OnlineExercises/GDINA_example.html">GDINA Estimation</a>
    </li>
    <li>
      <a href="../articles/OnlineExercises/HOGDINA_example.html">Higher-order GDINA Estimation</a>
    </li>
    <li>
      <a href="../articles/OnlineExercises/LCDM_example.html">LCDM Estimation</a>
    </li>
    <li>
      <a href="../articles/OnlineExercises/sGDINA_analysis_example.html">Sequential G-DINA: Model Estimation and Model Diagnostics</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/Wenchao-Ma/GDINA/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Multiple-choice models</h1>
    <small class="dont-index">Source: <a href="https://github.com/Wenchao-Ma/GDINA/blob/HEAD/R/MCmodel.R" class="external-link"><code>R/MCmodel.R</code></a></small>
    <div class="hidden name"><code>MCmodel.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function estimates the multiple-choice DINA model (de la Torre, 2009).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">MCmodel</span><span class="op">(</span></span>
<span>  <span class="va">dat</span>,</span>
<span>  <span class="va">Qc</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"MCDINA"</span>,</span>
<span>  key <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  group <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  conv.crit <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  maxitr <span class="op">=</span> <span class="fl">2000</span>,</span>
<span>  conv.type <span class="op">=</span> <span class="st">"pr"</span>,</span>
<span>  SE <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-dat">dat<a class="anchor" aria-label="anchor" href="#arg-dat"></a></dt>
<dd><p>A required \(N \times J\) data matrix of N examinees to J items. Values must be 1, 2,... representing nominal categories.
Missing values are currently not allowed.</p></dd>


<dt id="arg-qc">Qc<a class="anchor" aria-label="anchor" href="#arg-qc"></a></dt>
<dd><p>A required category and attribute association matrix.
The first column gives the item number, which must
be numeric (i.e., 1,2,...) and match the number of column in the data.
The second column indicates the coded category of each item. The number in the second column must match
with the number in the data, but if a category is not coded, it should not be included in the Q-matrix.
Entry 1 indicates that the attribute is measured by the category, and 0 otherwise.
Note that the MC-DINA model assumes that the category with the largest number of 1s is the key and that the coded distractors should
allow to assign examinees uniquely.</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p><code>MCDINA</code> only currently. Other MC models may be incorporated.</p></dd>


<dt id="arg-key">key<a class="anchor" aria-label="anchor" href="#arg-key"></a></dt>
<dd><p>a numeric vector giving the key of each item. See <code>Examples</code>.
<code>NULL</code> by default indicating the coded category requiring the largest number of 1s is the key.</p></dd>


<dt id="arg-group">group<a class="anchor" aria-label="anchor" href="#arg-group"></a></dt>
<dd><p>Group membership vector if a multiple group model is considered. It must only contain whole numbers and start from 1. The
length must be equal to the number of rows of the data.</p></dd>


<dt id="arg-conv-crit">conv.crit<a class="anchor" aria-label="anchor" href="#arg-conv-crit"></a></dt>
<dd><p>The convergence criterion for max absolute change in <code>conv.type</code> for two consecutive iterations.</p></dd>


<dt id="arg-maxitr">maxitr<a class="anchor" aria-label="anchor" href="#arg-maxitr"></a></dt>
<dd><p>The maximum iterations allowed.</p></dd>


<dt id="arg-conv-type">conv.type<a class="anchor" aria-label="anchor" href="#arg-conv-type"></a></dt>
<dd><p>convergence criteria; Can be <code>pr</code> or <code>LL</code>,
indicating category response function, or -2 times log-likelihood,respectively.</p></dd>


<dt id="arg-se">SE<a class="anchor" aria-label="anchor" href="#arg-se"></a></dt>
<dd><p>logical; estimating standard error of item parameters? Default is <code>FALSE</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>an object of class <code>MCmodel</code> with the following components:</p><dl><dt>prob.parm</dt>
<dd><p>A list of success probabilities for each reduced latent class on each item (IRF)</p></dd>

<dt>prob.se</dt>
<dd><p>A list of standard errors of item parameters</p></dd>

<dt>attribute</dt>
<dd><p>A list of estimated attribute profiles including EAP, MLE and MAP estimates.</p></dd>

<dt>testfit</dt>
<dd><p>A list of test fit statistics including deviance, number of parameters, AIC and BIC</p></dd>

<dt>R</dt>
<dd><p>expected # of individuals in each latent group choosing each option</p></dd>

<dt>lik</dt>
<dd><p>posterior probability</p></dd>

<dt>itr</dt>
<dd><p>Total # of iterations</p></dd>


</dl></div>
    <div id="references">
    <h2>References</h2>
    <p>De La Torre, J. (2009). A cognitive diagnosis model for cognitively based multiple-choice options. <em>Applied Psychological Measurement, 33</em>, 163–183.</p>
<p>Ma, W., &amp; de la Torre, J. (2020). GDINA: An R Package for Cognitive Diagnosis Modeling. <em>Journal of Statistical Software, 93(14)</em>, 1-26.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="GDINA.html">GDINA</a></code> for G-DINA model</p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Wenchao Ma, The University of Minnesota, <a href="mailto:wma@umn.edu">wma@umn.edu</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span> <span class="co"># check the format of the data</span></span></span>
<span class="r-in"><span> <span class="co"># Entry 0 is not allowed</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sim10MCDINA</span><span class="op">$</span><span class="va">simdat</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co">#---------------------------------</span></span></span>
<span class="r-in"><span> <span class="co"># check the format of the Q-matrix</span></span></span>
<span class="r-in"><span> <span class="co">#---------------------------------</span></span></span>
<span class="r-in"><span> <span class="co"># Take item 1 as an example:</span></span></span>
<span class="r-in"><span> <span class="co"># category 2 has a q-vector (1,0,0)</span></span></span>
<span class="r-in"><span> <span class="co"># category 1 has a q-vector (0,1,0)</span></span></span>
<span class="r-in"><span> <span class="co"># category 4 has a q-vector (1,1,0)</span></span></span>
<span class="r-in"><span> <span class="co"># category 3 is not included in the Q-matrix because it is not coded</span></span></span>
<span class="r-in"><span> <span class="co"># the order of the coded categories in the Q-matrix doesn't matter</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="va">sim10MCDINA</span><span class="op">$</span><span class="va">simQ</span></span></span>
<span class="r-in"><span>  <span class="co">#     Item coded cat A1 A2 A3</span></span></span>
<span class="r-in"><span>  <span class="co">#        1         2  1  0  0</span></span></span>
<span class="r-in"><span>  <span class="co">#        1         1  0  1  0</span></span></span>
<span class="r-in"><span>  <span class="co">#        1         4  1  1  0</span></span></span>
<span class="r-in"><span>  <span class="co">#...</span></span></span>
<span class="r-in"><span> <span class="va">est</span> <span class="op">&lt;-</span> <span class="fu">MCmodel</span><span class="op">(</span><span class="va">sim10MCDINA</span><span class="op">$</span><span class="va">simdat</span>,<span class="va">sim10MCDINA</span><span class="op">$</span><span class="va">simQ</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">est</span></span></span>
<span class="r-in"><span> <span class="va">est</span><span class="op">$</span><span class="va">testfit</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co">#--------------------------------------</span></span></span>
<span class="r-in"><span> <span class="co"># Distractors involving more attributes</span></span></span>
<span class="r-in"><span> <span class="co">#--------------------------------------</span></span></span>
<span class="r-in"><span> <span class="co"># some distractors may involve attributes that are not invovled by the key option</span></span></span>
<span class="r-in"><span> <span class="co"># this is not allowed by the "original" MC-DINA (de la Torre, 2009) but is allowed</span></span></span>
<span class="r-in"><span> <span class="co"># in the current implementation</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co"># Users need to specify the key for each item to appropriate handle such an issue</span></span></span>
<span class="r-in"><span> <span class="co"># Note item 1 below: category 1 is the key (as indicated in the key argument below)</span></span></span>
<span class="r-in"><span> <span class="co"># The distractor (category 4) involves an attribute not included by the key option</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="va">Qc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,  <span class="fl">1</span>,  <span class="fl">0</span>,  <span class="fl">1</span>,  <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                <span class="fl">1</span>,  <span class="fl">2</span>,  <span class="fl">0</span>,  <span class="fl">1</span>,  <span class="fl">0</span>,</span></span>
<span class="r-in"><span>                <span class="fl">1</span>,  <span class="fl">3</span>,  <span class="fl">1</span>,  <span class="fl">0</span>,  <span class="fl">0</span>,</span></span>
<span class="r-in"><span>                <span class="fl">1</span>,  <span class="fl">4</span>,  <span class="fl">1</span>,  <span class="fl">0</span>,  <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                <span class="fl">2</span>,  <span class="fl">1</span>,  <span class="fl">1</span>,  <span class="fl">0</span>,  <span class="fl">0</span>,</span></span>
<span class="r-in"><span>                <span class="fl">2</span>,  <span class="fl">3</span>,  <span class="fl">1</span>,  <span class="fl">1</span>,  <span class="fl">0</span>,</span></span>
<span class="r-in"><span>                <span class="fl">2</span>,  <span class="fl">2</span>,  <span class="fl">1</span>,  <span class="fl">1</span>,  <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                <span class="fl">3</span>,  <span class="fl">4</span>,  <span class="fl">1</span>,  <span class="fl">1</span>,  <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                <span class="fl">3</span>,  <span class="fl">2</span>,  <span class="fl">1</span>,  <span class="fl">1</span>,  <span class="fl">0</span>,</span></span>
<span class="r-in"><span>                <span class="fl">3</span>,  <span class="fl">3</span>,  <span class="fl">0</span>,  <span class="fl">1</span>,  <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                <span class="fl">4</span>,  <span class="fl">1</span>,  <span class="fl">0</span>,  <span class="fl">1</span>,  <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                <span class="fl">4</span>,  <span class="fl">2</span>,  <span class="fl">0</span>,  <span class="fl">0</span>,  <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                <span class="fl">5</span>,  <span class="fl">1</span>,  <span class="fl">1</span>,  <span class="fl">0</span>,  <span class="fl">0</span>,</span></span>
<span class="r-in"><span>                <span class="fl">6</span>,  <span class="fl">3</span>,  <span class="fl">0</span>,  <span class="fl">1</span>,  <span class="fl">0</span>,</span></span>
<span class="r-in"><span>                <span class="fl">7</span>,  <span class="fl">2</span>,  <span class="fl">0</span>,  <span class="fl">0</span>,  <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                <span class="fl">8</span>,  <span class="fl">4</span>,  <span class="fl">1</span>,  <span class="fl">0</span>,  <span class="fl">0</span>,</span></span>
<span class="r-in"><span>                <span class="fl">9</span>,  <span class="fl">1</span>,  <span class="fl">0</span>,  <span class="fl">1</span>,  <span class="fl">0</span>,</span></span>
<span class="r-in"><span>                <span class="fl">10</span>, <span class="fl">4</span>,  <span class="fl">0</span>,  <span class="fl">0</span>,  <span class="fl">1</span><span class="op">)</span>,ncol <span class="op">=</span> <span class="fl">5</span>,byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="va">est2</span> <span class="op">&lt;-</span> <span class="fu">MCmodel</span><span class="op">(</span><span class="va">sim10MCDINA2</span><span class="op">$</span><span class="va">simdat</span>,<span class="va">Qc</span>, key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">1</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">est2</span></span></span>
<span class="r-in"><span> <span class="va">est2</span><span class="op">$</span><span class="va">prob.parm</span></span></span>
<span class="r-in"><span> <span class="va">est2</span><span class="op">$</span><span class="va">testfit</span></span></span>
<span class="r-in"><span> <span class="va">est2</span><span class="op">$</span><span class="va">attribute</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co">###############################</span></span></span>
<span class="r-in"><span> <span class="co"># a multiple group model</span></span></span>
<span class="r-in"><span> <span class="co">###############################</span></span></span>
<span class="r-in"><span><span class="va">est</span> <span class="op">&lt;-</span> <span class="fu">MCmodel</span><span class="op">(</span><span class="va">sim10MCDINA</span><span class="op">$</span><span class="va">simdat</span>, <span class="va">sim10MCDINA</span><span class="op">$</span><span class="va">simQ</span>, group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fl">1500</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># log posterior of different groups</span></span></span>
<span class="r-in"><span><span class="va">est</span><span class="op">$</span><span class="va">lik</span><span class="op">$</span><span class="va">logprior</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Wenchao Ma, Jimmy de la Torre.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

      </footer></div>






  </body></html>

